angular.module("angularValidator",[]),angular.module("angularValidator").directive("angularValidator",function(){return{restrict:"A",link:function(a,b){function c(a){for(var b=0;b<a.length;b++)b in a&&e(a[b])}function d(){for(;p.length;){var a=p.pop();a()}}function e(b){a.$watch(function(){return b.value+o.submitted+h(b)+f(o[b.name])+g(o[b.name])},function(){i(b),m(b)})}function f(a){return a&&"$dirty"in a?a.$dirty:void 0}function g(a){return a&&"$modelValue"in a?a.$modelValue:void 0}function h(b){if("validator"in b.attributes){var c=a.$eval(b.attributes.validator.value);return o[b.name].$setValidity("angularValidator",c),c}}function i(b){var c=function(){return"<i class='fa fa-times'></i> Required"},d=function(){return"<i class='fa fa-times'></i> Invalid"};if(b.name in o){var e=o[b.name],f=l(b);f&&f.remove(),(e.$dirty||a[b.form.name].submitted)&&(e.$error.required?"required-message"in b.attributes?k(b,b.attributes["required-message"].value):k(b,c):e.$valid||("invalid-message"in b.attributes?k(b,b.attributes["invalid-message"].value):k(b,d)))}}function j(b){return"<label class='control-label has-error validationMessage'>"+a.$eval(b)+"</label>"}function k(a,b){if("append-to"in a.attributes){var c=a.attributes["append-to"].value;"parent"===c?angular.element(a).parent().append(j(b)):angular.element(a).after(j(b))}else angular.element(a).after(j(b))}function l(a){for(var b=angular.element(a).parent().children(),c=0;c<b.length;c++)if(angular.element(b[c]).hasClass("validationMessage"))return angular.element(b[c]);return!1}function m(b){if(b.name in o){var c=o[b.name];angular.element(b.parentNode).removeClass("has-error"),angular.element(b).removeClass("has-error"),(c.$dirty||a[b.form.name].submitted)&&c.$invalid&&(angular.element(b.parentNode).addClass("has-error"),angular.element(b).addClass("has-error"))}}var n=angular.element(b)[0],o=a[n.name];o.submitted=!1;var p=[];b.on("submit",function(b){b.preventDefault(),a.$apply(function(){o.submitted=!0}),o.$valid&&a.$eval(n.attributes["angular-validator-submit"].value)});var q=a.$watch(function(){return angular.element(b)[0].length},function(){d(),c(angular.element(b)[0])});b.bind("$destroy",function(){q(),d()}),c(n)}}}),angular.module("angularValidator").provider("angularValidator",["$provide",function(a){this.decorateNgModelDirective=function(){a.decorator("ngModelDirective",["$delegate",function(a){var b=a[0],c=b.controller;return b.controller=["$scope","$element","$attrs","$injector",function(a,b,d,e){var f=e.get("$interpolate");d.$set("name",f(d.name||"")(a)),e.invoke(c,this,{$scope:a,$element:b,$attrs:d})}],a}])},this.decorateFormDirective=function(){a.decorator("formDirective",["$delegate",function(a){var b=a[0],c=b.controller;return b.controller=["$scope","$element","$attrs","$injector",function(a,b,d,e){var f=e.get("$interpolate");d.$set("name",f(d.name||d.ngForm||"")(a)),e.invoke(c,this,{$scope:a,$element:b,$attrs:d})}],a}])},this.$get=function(){return{}}}]);